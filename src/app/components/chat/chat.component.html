<div class="chat-container">
  <div class="chat-header">
    <h2>Chat with PharmaGNN</h2>
  </div>

  <!-- Dynamic Messages -->
  <div class="chat-messages">
    <div *ngFor="let message of messages"
         class="message"
         [class.user-message]="message.isUser"
         [class.bot-message]="!message.isUser">
      <p>{{ message.text }}</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="message bot-message">
      <p>Analyzing your question...</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="message bot-message error">
      <p>{{ errorMessage }}</p>
    </div>
  </div>

  <!-- Input Section (Preserved Structure) -->
  <div class="chat-input">
    <input type="text"
           [(ngModel)]="userInput"
           (keyup)="handleKeyPress($event)"
           placeholder="Type your question here..."
           [disabled]="isLoading">

    <button class="send-btn"
            (click)="sendMessage()"
            [disabled]="isLoading">
      <lord-icon
        src="https://cdn.lordicon.com/hydhpbyz.json"
        trigger="hover"
        colors="primary:#121331,secondary:#723ace"
        style="width:50px;height:50px">
      </lord-icon>
    </button>
  </div>
</div>
